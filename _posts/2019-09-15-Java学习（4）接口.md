---
title: Javaå­¦ä¹ ï¼ˆ4ï¼‰æ¥å£
layout: post
categories: 'javaå­¦ä¹ '
tags: java
---
ä¹…è¿å»æ‰“çƒï¼Œä¸€ä¸‹åˆéƒ½å¥½å¥½çš„ï¼Œæ™šä¸Šå¤œåœºå´´è„šäº†ï¼Œä¹Ÿæ˜¯å¥½ä¹…æ²¡å´´è¿‡è„šäº†ï¼Œè¿™ç§ç–¼ç—›æ„Ÿè¿˜æŒºæ€€å¿µçš„ã€‚ä¸Šåˆåœ¨çœ‹æ¥å£éƒ¨åˆ†çŸ¥è¯†ï¼Œæ¥ä¸‹æ¥å‡†å¤‡è·³è¿‡å†…éƒ¨ç±»ï¼ˆä¹Ÿæ˜¯ç²—ç•¥çœ‹äº†çœ‹ï¼‰ï¼Œæ¥çœ‹æŒæœ‰å¯¹è±¡ï¼Œé›†åˆæ¡†æ¶ã€‚ç„¶åæ˜¯IOã€æ³›å‹å’ŒStringç±»ï¼Œå†æ¥ç€å°±å¼€å§‹çœ‹sqlå’Œspringï¼Œæˆ‘è§‰å¾—åŸºç¡€éƒ¨åˆ†å·²ç»ç²—ç•¥ä¼šç”¨äº†ï¼Œæ¥ä¸‹æ¥åœ¨æ·±å…¥ä¸€ä¸‹çœ‹çœ‹æŸ¥æ¼è¡¥ç¼ºã€‚

å“¦å¯¹ï¼Œä»Šå¤©å¯¹javaä¸­â€œå·¥å‚â€è¿™ä¸ªæ¦‚å¿µå¾ˆç‰¹åˆ«ï¼Œåœ¨ä¸‹è¾¹ç¨‹åºä¸­æœ‰æåˆ°ï¼Œå¤šæ¸©ä¹ ä¸€ä¸‹ã€‚


### JAVAåŸºç¡€ï¼šæ¥å£

è´´ä¸€ä¸‹ä»£ç æ¥æ¸©ä¹ 
```java
/*
    9.2   æ¥å£
    æ¥å£ï¼ˆè‹±æ–‡ï¼šInterfaceï¼‰ï¼Œåœ¨JAVAç¼–ç¨‹è¯­è¨€ä¸­æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»å‹ï¼Œæ˜¯æŠ½è±¡æ–¹æ³•çš„é›†åˆï¼Œæ¥å£é€šå¸¸ä»¥interfaceæ¥å£°æ˜ã€‚
    ä¸€ä¸ªç±»é€šè¿‡ç»§æ‰¿æ¥å£çš„æ–¹å¼ï¼Œä»è€Œæ¥ç»§æ‰¿æ¥å£çš„æŠ½è±¡æ–¹æ³•ã€‚æ¥å£å¹¶ä¸æ˜¯ç±»ï¼Œç¼–å†™æ¥å£çš„æ–¹å¼å’Œç±»å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯å®ƒä»¬å±
    äºä¸åŒçš„æ¦‚å¿µã€‚ç±»æè¿°å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚æ¥å£åˆ™åŒ…å«ç±»è¦å®ç°çš„æ–¹æ³•ã€‚

    é™¤éå®ç°æ¥å£çš„ç±»æ˜¯æŠ½è±¡ç±»ï¼Œå¦åˆ™è¯¥ç±»è¦å®šä¹‰æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•ã€‚æ¥å£æ— æ³•è¢«å®ä¾‹åŒ–ï¼Œä½†æ˜¯å¯ä»¥è¢«å®ç°ã€‚
    ä¸€ä¸ªå®ç°æ¥å£çš„ç±»ï¼Œå¿…é¡»å®ç°æ¥å£å†…æ‰€æè¿°çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¦åˆ™å°±å¿…é¡»å£°æ˜ä¸ºæŠ½è±¡ç±»ã€‚å¦å¤–ï¼Œåœ¨ Java ä¸­ï¼Œ
    æ¥å£ç±»å‹å¯ç”¨æ¥å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œä»–ä»¬å¯ä»¥æˆä¸ºä¸€ä¸ªç©ºæŒ‡é’ˆï¼Œæˆ–æ˜¯è¢«ç»‘å®šåœ¨ä¸€ä¸ªä»¥æ­¤æ¥å£å®ç°çš„å¯¹è±¡ã€‚
 */

import thinkInJava08_Polymorphic.demo01.Note;

interface Instrument {
    // è¿™ä¸ªæ˜¯å¸¸é‡ finalï¼†static
    int VALUE = 5;

    // æ²¡æœ‰æ–¹æ³•ä½“
    void play(Note n);

    void adjust();
}

class Wind implements Instrument {
    public void play(Note n) {
        System.out.println(this + " æ¼”å¥ " + n);
    }

    @Override
    public String toString() {
        return " Wind ";
    }

    @Override
    public void adjust() {
        System.out.println(this + " è°ƒæ•´ ");
    }
}

class Percussion implements Instrument {
    @Override
    public void play(Note n) {
        System.out.println(this + " æ¼”å¥ " + n);
    }

    @Override
    public String toString() {
        return " Percussion ";
    }

    @Override
    public void adjust() {
        System.out.println(this + " è°ƒæ•´ ");
    }

}

class Stringed implements Instrument {
    @Override
    public void play(Note n) {
        System.out.println(this + " æ¼”å¥ " + n);
    }

    @Override
    public String toString() {
        return " Stringed ";
    }

    @Override
    public void adjust() {
        System.out.println(this + " è°ƒæ•´ ");
    }

}

class Brass extends Wind{
    @Override
    public String toString() {
        return " Brass ";
    }
}
class Woodwind extends Wind{
    @Override
    public String toString() {
        return " Woodwind ";
    }
}



public class Music5 {


    static void tune(Instrument i ){
        i.play(Note.MIDDLE_C);
    }

    // è¿˜æ˜¯å¾ˆèµå¹è¿™ç§å†™æ³•
    static void tuneALL(Instrument[] e){
        for (Instrument i:e)
            tune(i);
    }

    public static void main(String[] args) {
        Instrument[] orchesyra = {
                new Wind(),
                new Percussion(),
                new Stringed(),
                new Brass(),
                new Woodwind()
        };
        tuneALL(orchesyra);
    }

}
/*OUTPUT:
 Wind  æ¼”å¥ MIDDLE_C
 Percussion  æ¼”å¥ MIDDLE_C
 Stringed  æ¼”å¥ MIDDLE_C
 Brass  æ¼”å¥ MIDDLE_C
 Woodwind  æ¼”å¥ MIDDLE_C
*/


```


## JAVAåŸºç¡€ï¼šå¤šé‡ç»§æ‰¿

```java
/*
9.4 Javaä¸­çš„å¤šé‡ç»§æ‰¿
å¯ä»¥ç»§æ‰¿ä»»æ„å¤šä¸ªæ¥å£ï¼Œå¹¶å‘ä¸Šè½¬å‹ä¸ºæ¯ä¸ªæ¥å£ï¼Œå› ä¸ºæ¯ä¸€ä¸ªæ¥å£éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹ç±»å‹ã€‚
ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ä¸€ä¸ªå…·ä½“ç±»ç»„åˆæ•°ä¸ªå‡ å£ä¹‹åäº§ç”Ÿäº†ä¸€ä¸ªæ–°ç±»ã€‚
 */
interface CanFight{
    void fight();
}
interface CanSwim{
    void swim();
}
interface  CanFly{
    void fly();
}
class ActionCharacter{
    public void fight(){
        //
    }
}
class Hero extends ActionCharacter implements CanFight,CanFly,CanSwim{
    @Override
    public void swim() {

    }

    @Override
    public void fly() {

    }
}

public class Adventure {
    public static void t(CanFly x){x.fly();}
    public static void u(CanSwim x){x.swim();}
    public static void v(CanFight x){x.fight();}
    public static void w(ActionCharacter x){x.fight();}

    public static void main(String[] args) {
        Hero h = new Hero();
        t(h);
        u(h);
        v(h);
        w(h);
    }
}

```


## JAVAåŸºç¡€ï¼šæ¥å£ä¸å·¥å‚

```java
/*
9.9èŠ‚ æ¥å£ä¸å·¥å‚

æ¥å£æ—¶å®ç°å¤šé‡ç»§æ‰¿çš„é€”å¾„ï¼Œè€Œç”Ÿæˆéµå¾ªæŸä¸ªæ¥å£çš„å¯¹è±¡çš„å…¸å‹æ–¹å¼
å°±æ˜¯å·¥å‚æ–¹æ³•è®¾è®¡æ¨¡å¼ï¼ˆâ€œå·¥å‚â€æ˜¯ä¸ªæ–¹æ³•ï¼‰ã€‚è¿™ä¸ç›´æ¥è°ƒç”¨çš„æ„é€ å™¨ä¸åŒï¼Œ
æˆ‘ä»¬å†å·¥å‚å¯¹è±¡ä¸Šè°ƒç”¨çš„æ˜¯åˆ›å»ºæ–¹æ³•ï¼Œè€Œè¯¥å·¥å‚å¯¹è±¡å°†ç”Ÿæˆæ¥å£çš„æŸä¸ªå®
ç°çš„å¯¹è±¡ã€‚ç†è®ºä¸Šï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬çš„ä»£ç å°†å®Œå…¨ä¸æ¥å£çš„å®ç°åˆ†ç¦»ï¼Œ
è¿™å°±ä½¿å¾—æˆ‘ä»¬å¯ä»¥é€æ˜åœ°å°†æŸä¸ªå®ç°æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå®ç°ã€‚
ä¸‹é¢å®ä¾‹å±•ç¤ºäº†å·¥å‚æ”¾æ³•çš„ç»“æ„ï¼š

 */
interface Service{
    void method1();
    void method2();
}
// è¿™é‡Œæ¥å£ æ˜¯æ€ä¹ˆå›äº‹  è¿”å›ç±»å‹ä¸ºServiceçš„ä¸€ä¸ªæ–¹æ³• â€œå·¥å‚æ–¹æ³•â€ä¹ˆï¼Ÿ
interface ServiceFactory{
    Service getService();
}

class Implementation1 implements Service{
    Implementation1(){}

    @Override
    public void method1() {
        System.out.println("æ¥å£1 çš„ æ–¹æ³•1");
    }

    @Override
    public void method2() {
        System.out.println("æ¥å£2 çš„ æ–¹æ³•2");
    }
}

class Implementation1Factory implements ServiceFactory{
    @Override
    public Service getService() {
        return new Implementation1(); // å·¥å‚ æ–¹æ³•è¿”å›å å‘ä¸Šè½¬å‹
    }
}

class Implementation2 implements Service{
    @Override
    public void method1() {
        System.out.println("æ¥å£2 çš„ æ–¹æ³•1");
    }

    @Override
    public void method2() {
        System.out.println("æ¥å£2 çš„ æ–¹æ³•2");
    }
}
class Implementation2Factory implements ServiceFactory{
    @Override
    public Service getService() {
        return new Implementation2(); // å·¥å‚ æ–¹æ³•è¿”å›å å‘ä¸Šè½¬å‹
    }
}

public class Factories {
    public static void serviceConsumer(ServiceFactory fact){
        Service s = fact.getService(); // å‘ä¸Šè½¬å‹
        s.method1();
        s.method1();
    }

    public static void main(String[] args) {
        serviceConsumer(new Implementation1Factory());
        // æ¥å£å®Œå…¨åœ¨å†…éƒ¨æ”¹å˜
        serviceConsumer(new Implementation2Factory());
    }

}

/*OUTPUTï¼š
æ¥å£1 çš„ æ–¹æ³•1
æ¥å£1 çš„ æ–¹æ³•1
æ¥å£2 çš„ æ–¹æ³•1
æ¥å£2 çš„ æ–¹æ³•1
*/


```

## æ€»ç»“å°æ„Ÿ

åœ¨æ‹›å·¥ä½œå¾—è¿™æ®µæ—¶é—´ï¼Œæˆ‘æœ‰ç‚¹åŠ¨æ‘‡ï¼Œæ˜¯ä¸æ˜¯ä¸“æ³¨äºå¼€å‘å²—ä½å¤ªä¸€æ ¹ç­‹äº†ï¼Œè¿˜æœ‰é”€å”®å’Œæ•™ç»ƒæˆ‘è§‰å¾—éƒ½å¯ä»¥å°è¯•ï¼Œçˆ¸å¦ˆå†è¯´å¾—è€ƒå…¬åŠ¡å‘˜ä¹Ÿåœ¨å¿ƒé‡Œæ½œä¼å¥½ä¹…ï¼Œæ‰€ä»¥æœ‰æ—¶å€™è«åä¼šå¾ˆçƒ¦èºã€‚æ—¢ç„¶å†³å®šæ‰¾ç ”å‘å°±å…ˆåšå‡ºæ¥ï¼Œä¹æœˆä»½è¿˜æ²¡ç»“æŸè¿˜å¾—åŠªåŠ›å•Šï¼

ä»Šå¤©ç¢°åˆ°ä¸€ä¸ªé«˜ä¸­æ—¶æœŸæ‰“ç¯®çƒçš„å¤§å“¥ï¼Œä»¥å‰è¢«è™çš„æœæœå¸–å¸–ï¼Œä½†æ˜¯ä»Šå¤©åœ¨ä¸€èµ·æ‰“çƒçš„æ—¶å€™ï¼Œè™½ç„¶ä»ç„¶è¢«è™ä½†å¿ƒæ€æœ‰æ‰€æ”¹å˜ï¼Œæˆ‘æ˜¯ä¸€ä¸ªä½“ç³»çƒå‘˜ï¼Œå…¨åœºæœ‰é˜Ÿå‹é…åˆæˆ‘ä»¬é˜Ÿä¼ä¼šå¾ˆå‰å®³ï¼Œä½†æ˜¯ä¸ªäººèƒ½åŠ›å´æœ‰é™ï¼Œå•æŒ‘çš„è¯ä¸æ˜¯ç‰¹åˆ«å¼ºã€‚è¯´è¿™äº›ï¼Œå°±æ˜¯åƒæä¸€ä¸‹ï¼Œç¯®çƒä¹Ÿå¥½å…¶ä»–äº‹ä¹Ÿç½¢ï¼Œéšç€é•¿å¤§çœ‹å¾…è¿™äº›äº‹çš„æ–¹å¼å’Œå¿ƒæ€éƒ½æœ‰æ‰€å˜åŒ–ï¼Œæˆ‘å¸Œæœ›è¿™ç§å˜åŒ–èƒ½æ›´è¶‹å‘ç†æ™ºä¸æˆç†Ÿï¼Œç»™è‡ªå·±åŠ åŠ æ²¹ğŸ’ªï¼